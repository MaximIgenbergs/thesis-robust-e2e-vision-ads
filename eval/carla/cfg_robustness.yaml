carla:
  host: localhost
  port: 62100

  # Leaderboard CLI args
  traffic_manager_port: 8000
  traffic_manager_seed: 0
  timeout: 200.0  # communication timeout, not car timeout
  debug: 0
  track: SENSORS
  repetitions: 1
  weather: none   # weather is defined in routes
  resume: false

models:
  default_model: tcp

  tcp:
    repo_root: external/TCP
    launch_script: leaderboard/leaderboard/leaderboard_evaluator.py
    script: scripts/carla/agents/perturbation_agent.py
    checkpoint: checkpoints/tcp/best_model.ckpt

  interfuser:
    repo_root: external/InterFuser
    launch_script: leaderboard/leaderboard/leaderboard_evaluator.py
    # TODO: point this to a PD-enabled Interfuser wrapper once implemented
    script: leaderboard/team_code/interfuser_agent.py
    checkpoint: external/InterFuser/leaderboard/team_code/interfuser_config.py

run:
  routes_file: scripts/carla/routes/routes_robustness.xml
  carla_scenarios_file: external/TCP/leaderboard/data/scenarios/all_towns_traffic_scenarios.json

logging:
  runs_dir: /media/maximigenbergs/Elements/maximigenbergs/runs/carla/robustness

perturbations:
  baseline: true
  severities: [2, 4]
  episodes: 1

  chunks:
    # Category C: Weather Perturbations
    - ["dynamic_rain_filter"]
    - ["dynamic_snow_filter", "frost_filter", "fog_filter"]
    - ["dynamic_sun_filter"]
    - ["dynamic_lightning_filter"]
    - ["dynamic_smoke_filter"]

    # Category B: Blur and Focus Perturbations
    - ["motion_blur", "defocus_blur", "gaussian_blur"]

    # Category A: Noise Perturbations
    - ["gaussian_noise", "poisson_noise", "impulse_noise", "speckle_noise_filter", "jpeg_filter", "pixelate"]

    # Category G: Color & Tone Adjustments
    - ["increase_brightness", "contrast", "white_balance_filter", "saturation_filter", "saturation_decrease_filter", "posterize_filter", "histogram_equalisation", "grayscale_filter", "low_pass_filter", "phase_scrambling"]

    # Category D/F: Distortion Perturbations & Graphic Patterns
    - ["elastic", "cutout_filter", "sample_pairing_filter"]
    - ["splatter_mapping", "dotted_lines_mapping", "zigzag_mapping", "canny_edges_mapping"]

    # Category E: Affine Transformations
    - ["translate_image", "scale_image"]

    # Overlays (Occlusions)
    - ["dynamic_object_overlay", "static_object_overlay"]
